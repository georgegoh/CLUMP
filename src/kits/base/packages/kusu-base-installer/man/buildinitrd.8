.\" Copyright (c) 2007 Platform Computing Inc
.TH "buildinitrd" "8" "0.9" "Mark Black" "Kusu Base"
.SH "NAME"
.LP 
buildinitrd \- Builds the initial ram\-disk for booting diskless and imaged nodes.
.SH "SYNTAX"
.LP 
buildinitrd [\fIOPTIONS\fP] \fI\-n\fP <\fInodegroup name\fP>
.SH "DESCRIPTION"
.LP 
The buildinitrd tool creates the initial RAM disk for the Diskless and Imaged nodes.  The tool is typically called automatically by the Nodegroup Editor (ngedit), but can safely be manually run as well.  The tool will take a template initrd and patch in the kernel modules listed in the Modules section listed in the Nodegroup Editor.  The resulting initrd will be copied to the /tftpboot/kusu directory for use by the Diskless and Imaged nodes.  By default it will build initramfs images but can also build cramfs images to support older distributions.

.SH "OPTIONS"
.LP 
.TP 
\fB\-h, \-\-help\fR
Output help information and exit.
.TP 
\fB\-i <\fIIMAGE\fR>, \-\-image=<\fIIMAGE\fR>\fR
Do not use the default image name from the database.  Override it with IMAGE.  Note the nodes will not use this image without first changing the image name in the database.  See the  \fBboothost\fR manpage for more information.
.TP 
\fB\-r, \-\-initrd\fR
Build a cramfs initial ram\-disk.  This is for older kernels.
.TP 
\fB\-n\fR <\fINodegroup Name\fP>, \-\-nodegroup=<\fINodegroup Name\fP>
The name of the nodegroup to build the initrd for.  
.TP 
\fB\-v, \-\-version\fR
Output version information and exit.
.TP 
\fB\-d, <\fIDATABASE\fR>, \-\-database=<\fIDATABASE\fR>\fR
Connect to an alternate database to read the nodegroup information from.  This option is not needed for normal use.
.TP 
\fB\-u, <\fIUSER\fR>, \-\-database=<\fIUSER\fR>\fR
Connect to an alternate database as user <\fIUSER\fR> to read the nodegroup information from.  This option is not needed for normal use.
.TP 
\fB\-p, <\fIPASSWORD\fR>, \-\-password=<\fIPASSWORD\fR>\fR
Connect to an alternate database using the password provided to read the nodegroup information from.  This option is not needed for normal use.
.SH "FILES"
.LP 
\fI/tftpboot/kusu/initrd.*\fP 

.SH "EXAMPLES"
.LP 
To generate a new initrd for the default diskess nodegroup using Redhat 5 run:
.LP 
buildinitrd \-n compute\-diskless\-rhel\-5\-x86_64

.SH "AUTHORS"
.LP 
Mark Black <mblack_at_platform_dot_com>
.SH "SEE ALSO"
.LP 
buildimage(8) boothost(8) ngedit(8) 
