#!/bin/sh
# $Id: loadedmodules 2526 2007-10-17 02:50:41Z mike $
#
# Copyright 2007 Platform Computing Inc.
#
# Licensed under GPL version 2; See LICENSE file for details.
#
case $1 in
    save)
        #save loaded modules. module will be loaded when you login
        if [ -z "$LOADEDMODULES" ]
        then
            echo "No modules loaded."
        else
            echo $LOADEDMODULES | awk -F: '{ for (i = 1; i <= NF; i++) { print $i } }'  > ~/.modulesnapshot
        fi
        ;;
    remove)
        #unsave loaded modules. module will not be loaded when you login
        /bin/rm -rf ~/.modulesnapshot
        ;;
    *)
        #usage
        echo $"Usage: loadedmodules {save|remove}"
        exit 1
esac
exit 0